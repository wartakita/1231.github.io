<!-- Sertakan Pemutar Media Radiant - di sini kita menggunakan build yang dioptimalkan untuk pemutar Shaka -->
<script src="https://cdn.radiantmediatechs.com/rmp/9.15.0/js/rmp-shaka.min.js"></script>
<script src="https://cdn.radiantmediatechs.com/rmp/9.15.0/js/rmp.min.js"></script>
<script src="https://cdn.radiantmediatechs.com/rmp/9.15.0/js/rmp-hlsjs.min.js"></script>
<script src="https://cdn.radiantmediatechs.com/rmp/9.15.0/js/rmp-vttjs.min.js"></script>
<!-- Elemen kontainer pemutar -->
<div id="rmp"></div>
<!-- Atur opsi konfigurasi pemutar -->
<script>
    // Fungsi untuk mendapatkan nilai parameter dari URL berdasarkan namanya
    function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    // Mendapatkan nilai parameter HLS dari URL
    var hlsParam = getParameterByName('hls');
    var hlsSource = hlsParam ? hlsParam : ''; // Jika tidak ada parameter, gunakan string kosong

    // Mendapatkan nilai parameter clearKeys dari URL
    var clearKeysParam = getParameterByName('clearKeys');
    var clearKeys = {};
    if (clearKeysParam) {
        // Format nilai clearKeys harus seperti 'keyId:keyValue'
        var clearKeysArr = clearKeysParam.split(':');
        clearKeys[clearKeysArr[0]] = clearKeysArr[1];
    }

    const src = {
        hls: hlsSource
    };

    const settings = {
        licenseKey: 'Y2VjZ29tb29nayEqXyU0PW83PWFzNz0yZHM3YjgrMnNlP3JvbTVkYXNpczMwZGIwQSVfKg==',
        src: src,
        autoHeightMode: true,
        autoHeightModeRatio: 1.7777777778,
        autoplay: true,
        viewablePlayPause: false,
        preload: "auto",
        sharing: true,
        gaTrackingId: "UA-12345678-1",
        skin: "s2",
        dashFirst: true,
        shakaDrm: {
            servers: {
                // URL server DRM Widevine
                //"com.widevine.alpha": 'https://example.com/widevine-server-url',
                clearKeys: clearKeys
            }
        }
    };

    const rmp = new RadiantMP('rmp');
    rmp.init(settings);
</script>
